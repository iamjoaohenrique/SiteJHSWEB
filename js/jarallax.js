!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){Date.now||(Date.now=function(){return(new Date).getTime()}),window.requestAnimationFrame||function(){"use strict";for(var a=["webkit","moz"],b=0;b<a.length&&!window.requestAnimationFrame;++b){var c=a[b];window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var d=0;window.requestAnimationFrame=function(a){var b=Date.now(),c=Math.max(d+16,b);return setTimeout(function(){a(d=c)},c-b)},window.cancelAnimationFrame=clearTimeout}}();var b=function(){for(var a="transform WebkitTransform MozTransform OTransform msTransform".split(" "),b=document.createElement("div"),c=0;c<a.length;c++)if(b&&void 0!==b.style[a[c]])return a[c];return!1}(),c=function(){if(!window.getComputedStyle)return!1;var b,a=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};(document.body||document.documentElement).insertBefore(a,null);for(var d in c)void 0!==a.style[d]&&(a.style[d]="translate3d(1px,1px,1px)",b=window.getComputedStyle(a).getPropertyValue(c[d]));return(document.body||document.documentElement).removeChild(a),void 0!==b&&b.length>0&&"none"!==b}(),d=navigator.userAgent.toLowerCase().indexOf("android")>-1,e=!!window.opera,f=[],g=function(){function c(c,g){var i,h=this;h.$item=a(c),h.defaults={speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:!0,zIndex:-100},i=h.$item.data("jarallax")||{},h.options=a.extend({},h.defaults,i,g),h.options.speed=Math.min(1,Math.max(0,parseFloat(h.options.speed))),h.instanceID=b++,h.image={src:h.options.imgSrc||null,$container:null,$item:null,width:h.options.imgWidth||null,height:h.options.imgHeight||null,useImgTag:d||e},h.initImg()&&(h.init(),f.push(h))}var b=0;return c}();g.prototype.initImg=function(){var a=this;return null===a.image.src&&(a.image.src=a.$item.css("background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!a.image.src||"none"===a.image.src)},g.prototype.init=function(){function f(){c.coverImage(),c.clipContainer(),c.onScroll(!0),c.$item.data("jarallax-original-styles",c.$item.attr("style")),setTimeout(function(){c.$item.css({"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}var c=this,d={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden","pointer-events":"none",transition:"transform linear -1ms, -webkit-transform linear -1ms"},e={position:"fixed"};c.image.$container=a("<div>").css(d).css({visibility:"hidden","z-index":c.options.zIndex}).attr("id","jarallax-container-"+c.instanceID).prependTo(c.$item),c.image.useImgTag&&b?(c.image.$item=a("<img>").attr("src",c.image.src),e=a.extend({"max-width":"none"},d,e)):(c.image.$item=a("<div>"),e=a.extend({"background-position":"50% 50%","background-repeat":"no-repeat no-repeat","background-image":'url("'+c.image.src+'")'},d,e)),c.image.$item.css(e).prependTo(c.image.$container),c.image.width&&c.image.height?f():c.getImageSize(c.image.src,function(a,b){c.image.width=a,c.image.height=b,f()})},g.prototype.destroy=function(){for(var b=this,c=0,d=f.length;c<d;c++)if(f[c].instanceID===b.instanceID){f.splice(c,1);break}a("head #jarallax-clip-"+b.instanceID).remove(),b.$item.attr("style",b.$item.data("jarallax-original-styles")),b.$item.removeData("jarallax-original-styles"),b.image.$container.remove(),delete b.$item[0].jarallax},g.prototype.round=function(a){return Math.floor(100*a)/100},g.prototype.getImageSize=function(a,b){if(!a||!b)return!1;var c=new Image;c.onload=function(){b(c.width,c.height)},c.src=a},g.prototype.clipContainer=function(){var b=this,c=b.image.$container.outerWidth(!0),d=b.image.$container.outerHeight(!0),e=a("head #jarallax-clip-"+b.instanceID);e.length||(a("head").append('<style type="text/css" id="jarallax-clip-'+b.instanceID+'"></style>'),e=a("head #jarallax-clip-"+b.instanceID));var f=["#jarallax-container-"+b.instanceID+" {","   clip: rect(0px "+c+"px "+d+"px 0);","   clip: rect(0px, "+c+"px, "+d+"px, 0);","}"].join("\n");e[0].styleSheet?e[0].styleSheet.cssText=f:e.html(f)},g.prototype.coverImage=function(){var c=this;if(c.image.width&&c.image.height){var j,k,d=c.image.$container.outerWidth(!0),e=c.image.$container.outerHeight(!0),f=a(window).outerWidth(!0),g=a(window).outerHeight(!0),h=c.image.width,i=c.image.height,l={width:Math.max(f,d)*Math.max(c.options.speed,1),height:Math.max(g,e)*Math.max(c.options.speed,1)};l.width/l.height>h/i?(j=l.width,k=l.width*i/h):(j=l.height*h/i,k=l.height),c.image.useImgTag&&b?(l.width=c.round(j),l.height=c.round(k),l.marginLeft=c.round(-(j-d)/2),l.marginTop=c.round(-(k-e)/2)):l.backgroundSize=c.round(j)+"px "+c.round(k)+"px",c.image.$item.css(l)}},g.prototype.onScroll=function(d){var e=this;if(e.image.width&&e.image.height){var f=a(window).scrollTop(),g=a(window).scrollLeft(),i=(a(window).width(),a(window).height()),j=e.$item.offset().top,k=e.$item.offset().left,l=e.$item.outerHeight(!0),m={visibility:"visible",backgroundPosition:"50% 50%"},n=!d&&(j+l<f||j>f+i);if(!n){var o=-(f-j)*e.options.speed,p=-(g-k)*e.options.speed;o=e.round(o),p=e.round(p),b&&e.options.enableTransform?(m.transform="translateY("+o+"px) translateX("+p+"px)",c&&(m.transform="translate3d("+p+"px, "+o+"px, 0)")):m.backgroundPosition=p+"px "+o+"px",e.image.$item.css(m)}}},function(){a(window).on("scroll.jarallax",function(){window.requestAnimationFrame(function(){for(var a=0,b=f.length;a<b;a++)f[a].onScroll()})});var b;a(window).on("resize.jarallax orientationchange.jarallax load.jarallax",function(){clearTimeout(b),b=setTimeout(function(){window.requestAnimationFrame(function(){for(var a=0,b=f.length;a<b;a++){var c=f[a];c.coverImage(),c.clipContainer(),c.onScroll()}})},100)})}();var h=a.fn.jarallax;a.fn.jarallax=function(){var f,a=this,b=arguments[0],c=Array.prototype.slice.call(arguments,1),d=a.length,e=0;for(e;e<d;e++)if("object"==typeof b||"undefined"==typeof b?a[e].jarallax||(a[e].jarallax=new g(a[e],b)):f=a[e].jarallax?a[e].jarallax[b].apply(a[e].jarallax,c):void 0,"undefined"!=typeof f)return f;return this},a.fn.jarallax.noConflict=function(){return a.fn.jarallax=h,this},a(document).on("ready.data-jarallax",function(){a("[data-jarallax]").jarallax()})});